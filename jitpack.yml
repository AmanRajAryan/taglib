before_install:
  # Installing Java 8 because Android SDK manager needs XML Binds which not exists in JDK 21
  - sdk install java 8.0.265-open
  - sdk use java 8.0.265-open
  - wget --quiet --output-document=android-sdk.zip https://dl.google.com/android/repository/commandlinetools-linux-12266719_latest.zip
  - unzip -d sdk android-sdk.zip
  - export ANDROID_SDK_ROOT=$PWD/sdk
  - export PATH=$PATH:$PWD/sdk/
  - export PATH=$PATH:$PWD/sdk/cmdline-tools/bin/
  # Installing the necessary Android SDK packages (accepting licenses, NDK, CMake)
  - yes | sdk/cmdline-tools/bin/sdkmanager --sdk_root=$ANDROID_SDK_ROOT --licenses
  - yes | sdk/cmdline-tools/bin/sdkmanager --sdk_root=$ANDROID_SDK_ROOT "platforms;android-35" > /dev/null
  - yes | sdk/cmdline-tools/bin/sdkmanager --sdk_root=$ANDROID_SDK_ROOT "platform-tools" > /dev/null
  - yes | sdk/cmdline-tools/bin/sdkmanager --sdk_root=$ANDROID_SDK_ROOT "build-tools;35.0.0" > /dev/null
  - yes | sdk/cmdline-tools/bin/sdkmanager --sdk_root=$ANDROID_SDK_ROOT "ndk;28.0.12674087" > /dev/null
  - yes | sdk/cmdline-tools/bin/sdkmanager --sdk_root=$ANDROID_SDK_ROOT "cmake;3.31.1" > /dev/null
  # Setting up environment variables
  - export PATH=$PATH:$PWD/sdk/platform-tools/
  - export PATH=$PATH:$PWD/sdk/cmake/3.31.1/bin/
  - echo $PATH
  - ls $PWD/sdk
  - ls $PWD/sdk/platform-tools
  - ls $PWD/sdk/cmake
  # Install JDK 21 and using it for the rest of the build
  - sdk install java 21.0.2-open
  - sdk use java 21.0.2-open
env:
  ANDROID_SDK_ROOT: $PWD/sdk